{% extends 'study/base.html' %}
{% load static %}
{% block title %}用户信息{% endblock title %}
{% block topfiles %}
    <script type="text/javascript" src="{% static 'js/axios-0.18.0.min.js' %}"></script>
{% endblock topfiles %}

{% block body %}
    <div class="container" style="height: 600px;margin-top: 20px">
    <div class="row" >
        <div class="col-12">
            <div class="col-6">
                <form class="login" id="login_form" method="POST">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="id_login">账号: </label>
                        <input type="text" name="mobile" placeholder="请输入手机号" autofocus="autofocus" required id="id_login" class="form-control" v-model="mobile" @blur="check_mobile"/>
                        <small class="form-text text-muted ml-1">还没有账号？<a href="{% url 'studyusers:register' %}" style="color: cornflowerblue; ">注册新账号</a>
                        </small>
                    </div>
                    <div class="form-group mb-1">
                        <label for="id_password">密码:</label>
                        <input type="password" name="password" placeholder="请输入密码" required id="id_password" class="form-control" v-model="password" @blur="check_password"/>
                        <small class="form-text text-muted ml-1"><a class="secondaryAction layui-text" href="{% url 'studyusers:forgetpassword' %}">忘记密码?</a>
                        </small>
                    </div>
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" name="remember" id="id_remember" checked class="custom-control-input" v-model="remembered"/>
                        <label for="id_remember" class="custom-control-label">保持登录</label>
                    </div>
                    <button class="primaryAction btn btn-primary" type="submit" id="submit_login" @click="on_submit">登录</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock body %}


{% block injs %}
    <script type="text/javascript" src="{% static 'js/host.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/common.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/login.js' %}"></script>
{% endblock injs %}
